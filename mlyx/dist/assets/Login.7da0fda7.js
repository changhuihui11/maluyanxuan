import{_ as C,r as b,q as y,o as $,t as S,c as V,d as k,e as _,v as R,x as B,I as N,y as P,z as D,A as M,B as T,D as U,f as i,w as f,u,E as v,G as q,g as E,H as F,J as G}from"./index.e358c980.js";import{l as z,s as w,r as A}from"./index.e402492a.js";const H=""+new URL("logo.1e8c34ec.png",import.meta.url).href;const J={setup(){const a=b(null),s=y({pool:"ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",width:120,height:40,imgCode:""});$(()=>{s.imgCode=d()});const m=()=>{s.imgCode=d()},t=(e,n)=>parseInt(Math.random()*(n-e)+e),r=(e,n)=>{const o=t(e,n),l=t(e,n),p=t(e,n);return`rgb(${o},${l},${p})`},d=()=>{const e=a.value.getContext("2d");e.fillStyle=r(180,230),e.fillRect(0,0,s.width,s.height);let n="";for(let o=0;o<4;o++){const l=s.pool[t(0,s.pool.length)];n+=l;const p=t(18,40),g=t(-30,30);e.font=p+"px Simhei",e.textBaseline="top",e.fillStyle=r(80,150),e.save(),e.translate(30*o+15,15),e.rotate(g*Math.PI/180),e.fillText(l,-15+5,-15),e.restore()}for(let o=0;o<5;o++)e.beginPath(),e.moveTo(t(0,s.width),t(0,s.height)),e.lineTo(t(0,s.width),t(0,s.height)),e.strokeStyle=r(180,230),e.closePath(),e.stroke();for(let o=0;o<40;o++)e.beginPath(),e.arc(t(0,s.width),t(0,s.height),1,0,2*Math.PI),e.closePath(),e.fillStyle=r(150,200),e.fill();return n};return{...S(s),verify:a,handleDraw:m}}},K={class:"img-verify"},O=["width","height"];function Q(a,s,m,t,r,d){return V(),k("div",K,[_("canvas",{ref:"verify",width:a.width,height:a.height,onClick:s[0]||(s[0]=(...e)=>t.handleDraw&&t.handleDraw(...e))},null,8,O)])}const W=C(J,[["render",Q]]);const X=a=>(F("data-v-a7f19c57"),a=a(),G(),a),Y={class:"footer"},Z=X(()=>_("div",{class:"image"},[_("img",{src:H,alt:""})],-1)),j={class:"tipes"},ee={class:"login"},te={style:{margin:"16px"}},oe={__name:"Login",setup(a){R();let s=B(),m=b(null);y({verify:""});let t=y({username:"17001100999",password:"123456",isLogin:!0}),r=()=>{t.isLogin?z(t.username,t.password).then(o=>{o.resultCode==200&&(localStorage.setItem("token",o.data),s.replace("/home"),w({type:"success",message:"\u767B\u9646\u6210\u529F"}))}):A(t.username,t.password).then(o=>{o.resultCode==200&&(w({type:"success",message:"\u6CE8\u518C\u6210\u529F"}),t.isLogin=!0)})},{username:d,password:e,isLogin:n}=S(t);return(o,l)=>{const p=N,g=P,h=D,I=M,x=T,L=U;return V(),k("div",null,[i(g,{title:u(n)?"\u767B\u5F55":"\u6CE8\u518C","left-arrow":"",onClickLeft:o.onClickLeft},{right:f(()=>[i(p,{name:"ellipsis"})]),_:1},8,["title","onClickLeft"]),_("div",Y,[Z,i(L,{onSubmit:u(r)},{default:f(()=>[i(I,{inset:""},{default:f(()=>[i(h,{modelValue:u(d),"onUpdate:modelValue":l[0]||(l[0]=c=>v(d)?d.value=c:d=c),name:"\u7528\u6237\u540D",label:"\u7528\u6237\u540D",placeholder:"\u7528\u6237\u540D",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u7528\u6237\u540D"}]},null,8,["modelValue"]),i(h,{modelValue:u(e),"onUpdate:modelValue":l[1]||(l[1]=c=>v(e)?e.value=c:e=c),type:"password",name:"\u5BC6\u7801",label:"\u5BC6\u7801",placeholder:"\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u5BC6\u7801"}]},null,8,["modelValue"])]),_:1}),_("div",j,[_("p",{onClick:l[2]||(l[2]=c=>v(n)?n.value=!u(n):n=!u(n))},q(u(n)?"\u5DF2\u6709\u5E10\u53F7\uFF0C\u8BF7\u767B\u5F55":"\u6CA1\u6709\u8D26\u53F7\uFF0C\u8BF7\u6CE8\u518C"),1)]),_("div",ee,[i(h,{center:"",clearable:"",label:"\u9A8C\u8BC1\u7801",placeholder:"\u8F93\u5165\u9A8C\u8BC1\u7801",modelValue:o.verify,"onUpdate:modelValue":l[3]||(l[3]=c=>o.verify=c)},{button:f(()=>[i(W,{ref_key:"verifyRef",ref:m},null,512)]),_:1},8,["modelValue"])]),_("div",te,[i(x,{round:"",block:"",type:"primary","native-type":"submit",onClick:u(r)},{default:f(()=>[E(" \u63D0\u4EA4 ")]),_:1},8,["onClick"])])]),_:1},8,["onSubmit"])])])}}},le=C(oe,[["__scopeId","data-v-a7f19c57"]]);export{le as default};
